# æµ‹è¯•ç®¡ç†æ¨¡å— - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd /data/workspace/rag-studio/backend
source venv/bin/activate  # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

è®¿é—®APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd /data/workspace/rag-studio/web
npm install  # é¦–æ¬¡è¿è¡Œ
npm run dev
```

è®¿é—®ç•Œé¢ï¼šhttp://localhost:3000

## ğŸ“‹ åŠŸèƒ½å¯¼èˆª

### æ£€ç´¢å™¨æµ‹è¯•ç”¨ä¾‹ç®¡ç†
**è·¯å¾„**ï¼šæµ‹è¯•ç®¡ç† â†’ æ£€ç´¢å™¨ç”¨ä¾‹

**ç”¨é€”**ï¼š
- ç»´æŠ¤é—®é¢˜å’ŒæœŸæœ›ç­”æ¡ˆ
- è®¾ç½®å…³è”åº¦åˆ†æ•°ï¼ˆ0-1ï¼‰
- ç”¨äºä¼ ç»Ÿæ£€ç´¢å™¨è¯„ä¼°

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "question": "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ",
  "expected_answers": [
    {
      "answer_text": "æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯",
      "relevance_score": 1.0
    }
  ]
}
```

### ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ç®¡ç†
**è·¯å¾„**ï¼šæµ‹è¯•ç®¡ç† â†’ ç”Ÿæˆç”¨ä¾‹

**ç”¨é€”**ï¼š
- ç»´æŠ¤é—®é¢˜ã€å‚è€ƒç­”æ¡ˆå’Œä¸Šä¸‹æ–‡
- ç”¨äºRAGASè¯„ä¼°

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "question": "è§£é‡Šæ·±åº¦å­¦ä¹ çš„åŸºæœ¬åŸç†",
  "reference_answer": {
    "answer_text": "æ·±åº¦å­¦ä¹ ä½¿ç”¨å¤šå±‚ç¥ç»ç½‘ç»œè¿›è¡Œå­¦ä¹ "
  },
  "contexts": [
    "ç¥ç»ç½‘ç»œç”±å¤šä¸ªç¥ç»å…ƒç»„æˆ"
  ]
}
```

## ğŸ”‘ æ ¸å¿ƒAPI

### æ£€ç´¢å™¨æµ‹è¯•ç”¨ä¾‹
- `POST /api/v1/tests/retriever/cases` - åˆ›å»º
- `GET /api/v1/tests/retriever/cases` - åˆ—è¡¨
- `PUT /api/v1/tests/retriever/cases/{id}` - æ›´æ–°
- `DELETE /api/v1/tests/retriever/cases/{id}` - åˆ é™¤

### ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- `POST /api/v1/tests/generation/cases` - åˆ›å»º
- `GET /api/v1/tests/generation/cases` - åˆ—è¡¨
- `PUT /api/v1/tests/generation/cases/{id}` - æ›´æ–°
- `DELETE /api/v1/tests/generation/cases/{id}` - åˆ é™¤

## ğŸ“‚ æ•°æ®å­˜å‚¨ä½ç½®

```
backend/storage/
â”œâ”€â”€ retriever_test_cases.json    # æ£€ç´¢å™¨æµ‹è¯•ç”¨ä¾‹
â””â”€â”€ generation_test_cases.json   # ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. åˆ›å»ºæµ‹è¯•é›†
å…ˆåœ¨"æµ‹è¯•é›†ç®¡ç†"ä¸­åˆ›å»ºæµ‹è¯•é›†ï¼Œé€‰æ‹©æ­£ç¡®çš„ç±»å‹ï¼ˆretrievalæˆ–generationï¼‰

### 2. æ‰¹é‡å¯¼å…¥
ä½¿ç”¨æ‰¹é‡åˆ›å»ºAPIä¸€æ¬¡æ€§å¯¼å…¥å¤šæ¡ç”¨ä¾‹ï¼š
```bash
curl -X POST http://localhost:8000/api/v1/tests/retriever/cases/batch \
  -H "Content-Type: application/json" \
  -d '{"cases": [...]}'
```

### 3. å…³è”åº¦åˆ†æ•°å»ºè®®
- 1.0ï¼šå®Œå…¨ç›¸å…³
- 0.7-0.9ï¼šé«˜åº¦ç›¸å…³
- 0.4-0.6ï¼šéƒ¨åˆ†ç›¸å…³
- 0.1-0.3ï¼šå¼±ç›¸å…³
- 0.0ï¼šä¸ç›¸å…³

## â“ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ä»æ—§ç‰ˆæµ‹è¯•ç”¨ä¾‹è¿ç§»ï¼Ÿ**
A: æš‚æœªæä¾›è‡ªåŠ¨è¿ç§»å·¥å…·ï¼Œå»ºè®®æ‰‹åŠ¨å¯¼å…¥æˆ–ç¼–å†™è¿ç§»è„šæœ¬ã€‚

**Q: ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°æµ‹è¯•ç”¨ä¾‹ï¼Ÿ**
A: ç¡®è®¤å·²é€‰æ‹©æµ‹è¯•é›†ï¼Œæ£€æŸ¥æµ‹è¯•é›†ç±»å‹æ˜¯å¦åŒ¹é…ã€‚

**Q: å…ƒæ•°æ®å­—æ®µå¦‚ä½•ä½¿ç”¨ï¼Ÿ**
A: å¯å­˜å‚¨ä»»æ„JSONå¯¹è±¡ï¼Œå¦‚åˆ†ç±»ã€æ ‡ç­¾ã€æ¥æºç­‰è‡ªå®šä¹‰ä¿¡æ¯ã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [é›†æˆæµ‹è¯•æŒ‡å—](./æµ‹è¯•ç®¡ç†æ¨¡å—-é›†æˆæµ‹è¯•æŒ‡å—.md)
- ğŸ“Š [å®æ–½æ€»ç»“](./æµ‹è¯•ç®¡ç†æ¨¡å—ä¼˜åŒ–-å®æ–½æ€»ç»“.md)
- ğŸ”— APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
3. Networké¢æ¿æŸ¥çœ‹APIå“åº”
4. å‚è€ƒé›†æˆæµ‹è¯•æŒ‡å—

---
æ›´æ–°æ—¶é—´ï¼š2024å¹´11æœˆ
ç‰ˆæœ¬ï¼šv1.0
